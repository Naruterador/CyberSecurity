## 文件包含漏洞说明
- 为简化代码，会把重复的code内容单独写到一个页面文件，然后再需要调用重复内容的页面中使用include方法来包含重复代码的页面就可以了。

- 使用include方法可以让当前页面去执行指定的另外一个文件中的代码内容。若没有对这种行为做限制，那么黑客将很有可能让当前页面去执行超出 Web 目录中的文件或者是 Web 目录中不希望被执行的敏感文件，甚至是远程服务器上的文件。比如黑客使用 include 方法去调用 Linux 系统中的 /etc/passwd，就会在当前页面中显示系统中的用户信息；或者黑客自己搭建 Web 服务器，在自己的服务器上写一个 Webshell，然后通过 include 方法在目标页面中执行本地服务器中的 Webshell。

- 几乎所有的脚本语言中都提供文件包含的功能，但文件包含漏洞在php中居多，而在jsp\ASP\ASP.NETC程序中非常少，甚至没有文件包含漏洞的存在。

- 原理:
  - 服务器解析执行php文件时能通过包含函数加载另外一个文件中的php代码，当被包含的文件中存在木马时，木马程序会在服务器上加载执行。

- 下面介绍php的四种文件包含函数：
  - require()：只要程序一运行就包含文件，找不到被包含的文件时会产生致命错误，并停止脚本
  - require_once()：功能与requir()相同区别在于当重复调用一个文件时，程序只调用一次
  - include()：执行到include()函数时才包含文件，找不到被包含文件时只会产生警告，脚本将继续执行
  - include_once()：功能和includ()相同，区别当重复调用一个文件时，程序只调用一次
  - nighcight_file(),show_source()函数对文件进行语法高亮显示，通常能看到源代码
  - readfile()，file_get_contents()函数读取一个文件，并写入输出缓冲
  - fopen()，打开一个文件或者url

- 文件包含漏洞包括本地文件包含漏洞和远程文件包含漏洞：
  - 本地文件包含漏洞指的是包含本地的php文件；
  - 远程文件包含漏洞包含的是其它服务器上的php文件。需要满足两个条件在php.ini中。当php.ini中的配置选项allow_url_fopen:on allow_url_include:on，对方开启这两个配置时才可以使用。