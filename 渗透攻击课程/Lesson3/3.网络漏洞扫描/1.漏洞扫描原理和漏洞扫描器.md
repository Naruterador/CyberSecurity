## 漏洞扫描原理与漏洞扫描器
- 网络漏洞扫描指的是利用一些自动化的工具来发现网络上各类主机设备的安全漏洞。这些自动化的工具通常被称为漏洞扫描器。
- 根据应用环境的不同，漏洞扫描通常可以分为 “黑盒扫描” 和“白盒扫描”。
  - 黑盒扫描：一般都是通过远程识别服务的类型和版本，对服务是否存在漏洞进行判定。在一些最新的漏洞扫描软件中，应用了一些更高级的技术，比如模拟渗透攻击等。
  - 白盒扫描：在具有主机操作权限的情况下进行漏洞扫描。实际上你的计算机每天都在进行，即微软的补丁更新程序会定期对你的操作系统进行扫描，查找存在的安全
漏洞，并向你推送相应的操作系统补丁。
  - 白盒扫描的结果更加准确，但一般来说它所识别出的漏洞不应当作为外部渗透测试的最终数据，因为这些漏洞由于防火墙和各类防护软件的原因很可能无法在外部滲透测试中得到利用。而且在渗透测试工作中，你一般没有机会获取用户名和口令，登录用户计算机，并使用相关工具进行白盒扫描，因此你更多时候需要使用黑盒扫描技术，对远程的主机进行漏洞评估，这也是本节后续内容中所要介绍的重点。
  - 漏洞扫描器是一种能够自动应用漏洞扫描原理，对远程或本地主机安全漏洞进行检测的程序。它是一个高度自动化的综合安全评估系统，集成了很多安全工具的功能。漏洞扫描器一般会附带一个用于识别主机漏洞的特征库，并定期对特征库进行更新。通过漏洞扫描器，管理员可以非常轻松地完成对一个网络中大量主机的漏洞识别工作。
  - 渗透测试工作中，在得到客户认可的情况下，可以使用漏洞扫描器对其系统进行扫描，但使用时一定要注意规避风险，将其对系统运行可能造成的影响降到最低。我们要与客户就漏洞扫描的策略和扫描执行的时间段进行沟通协商，尽量不要在业务高峰时期进行漏洞扫描，而且漏洞扫描执行期间网络维护人员应当处于应急准备状态，一旦造成系统崩溃或拒绝服务，能够在短时间内恢复系统运行。
  - 提示:不要把漏洞扫描器当作“黑客工具”，它可不是静悄悄地发现系统上的漏洞，在识别漏洞的过程中，它会向目标发送大量的数据包，有时候甚至会导致目标系统拒绝服务或被扫描数据包阻塞，扫描行为几乎不可避免地会被对方的入侵检测设备发现；而且，漏洞扫描器扫描得出的结果通常会有很多的误报(报告发现漏洞实际漏洞并不存在）或是漏报(未报告发现漏洞但漏洞实际存在），因此需要对结果进行人工分析，确定哪些漏洞是实际存在的。

### 通过三方网站查找漏洞
- 如果用户在Metasploit中找不到有效的渗透测试模块时。还可以从第三方网站查。如CVE漏洞站和exploitDB等。另外，Measploit 还支特导入第三方模块，并实施渗透测试。
## 1.通过CVE漏洞网站查找
  - CVE漏洞网站的地址为https:/www.cvedetails.com/。在搜索框中输入 Microsoft，然后单击Search按钮，即可显示搜索结果
     - 从该界面可以看到搜索到的 Microsoft 相关统计信息。此时，选择 Vulnerabilities (6328)选项，即可显示漏洞的详细信息
     - 从该界面可以看到所有的漏洞信息，包括 CVE ID、漏洞类型、发布日期、更新日期及评分等。
## 2.通过exploitDB漏洞网站查找
  - exploitDB 漏洞网站的地址为https://www.exploit-db.com
    - 在该界面输入攻击载荷的一些关键宇，即可搜索到对应的渗透测试模块。在搜索时，用户还可以选择 Verifred 和 Has App 复选框，过滤已验证过和容易攻击的应用程序渗透测试模块。例如，搜索 Windows 系统的渗透测试模块

    ![pics](../pics/33.png)

    - 在输出的信息中包括8列，分別表示 Date（发布日期）、D（下载渗透攻击载荷〉、A（可利用的应用程序）、V（己被验证）、Title（漏洞标题）、Type（类型）、Platform（平合）和Author（作者）。这里，用户可以选择下载及查看漏洞的详细信息。如果想要下载该渗透测试模块，则单击D列的下载按钮，如果想要想要查看该漏洞的详细信息，单击其漏洞标题名称即可。例如，查看该界面显示的第一个漏洞详细信息。
    
    ![pics](../pics/44.png)
