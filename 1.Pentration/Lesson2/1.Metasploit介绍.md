## 诞生与发展

## 渗透测试框架软件

## 漏洞研究与渗透测试代码开发平台

## 安全技术集成开发与应用环境

## Metasploit框架体系介绍
  - Metasploit 是一个免费的、可下载的框架。通过它，网络安全人员可以很容易地获取、挖掘计算机软件漏洞，并对其实施攻击。Metasploit框架可以用来发现漏洞、利用漏洞、提交漏洞，并实施攻击。而且，用户可以从其他漏洞扫描程序导入数据，基于漏洞主机的详细信息来发现可攻击漏洞，从而使用有效载荷对系统发起攻击。Metasploit框架的强大之处就是提供了大量的渗透测试模块和插件。这些模块按照不同用途可以分为7种类型:
    - Exploits（渗透攻击模块）
      - 渗透攻击模块主要利用发现的安全漏洞或配置弱点对目标系统进行攻击，以植入和运行攻击载荷，从而获得目标系统的访问控制权。Metasploit 框架中的渗透攻击模块可以按照安全漏洞所在的位置，分为主动渗透攻击与被动渗透攻古两大类。其中，这两种攻击类型的区别如下所述。
        - 主动渗透攻击：利用的安全漏洞位于网络服务端软件与服务端软件承载的上层应用程序之中。由于这些服务通常是在主机上开启一些监听端口，并等待客户端连接。通过连接目标系统网络服务，注入一些特殊构造的包含 “恶意” 攻击数据的网络请求内容，触发安全漏洞，并使得远程服务器执行 “恶意” 数据中包含的攻击荷花，从而获取目标系统的控制权限。
        - 被动渗透攻击：利用的漏洞位于客户端软件（如浏览器、浏览器插件、电子邮件容户端、office 与Adobe 等各种文档与编辑软件）。对于这类安全漏洞，滲透测试者无法主动地将数据从远程输入到客户端软件中，因此只能采用被动渗透攻击方式通常使用的被动渗透攻击方式有构造 “恶意〞的网页、电子邮件或文档文件，并通过架设包含此类恶意内容的服务端、发送邮件附件、结合社会工程学攻击分发、结合网络欺骗和劫持技术等，诱骗目标用户打开或访问目标系统上的这些恶意内容，从而触发客户端软件中的安全漏洞，以获取控制目标系统的Shell会话。
    - Auxiliary（辅助模块）
        - 辅助模块包括针对各种网络服务的扫描与检测，构建虛假服务收集登录密码、口令猜测等模块。另外，辅助模块中还包括一些无须加载的攻击载荷，这些模块不用来取得目标系统远程控制权，如拒绝服务攻击。
    - Post（后渗透攻击模块）
       - 后渗透攻击模块：后渗透攻击模块主要用于取得目标系统远程控制权之后的环节，实现在受控制系统中进行各种各样的后渗透攻击动作，如获取敏感信息、进一步拓展、实施跳板攻击等。
    - Pavloads（攻击载荷模块）
       - 攻击载荷是在渗透攻击成功后促使目标系统运行的一段植入代码。通常作用是为渗透攻击者打开在目标系统上的控制会话连接。在传统的渗透代码开发中，攻击载荷只是一段简单的 Shellcode 代码，以汇编语言编制并转换为目标系统CPU体系结构支持的机器代码。在渗透攻击触发漏洞后，将程序执行流程劫持并跳转入这段代码中执行，从而完成ShellCode中的单一功能。Metasploit攻击载荷分为3种：
         - Single：是一种完全独立的 Payload，而且使用起来就像运行cale.exe一样简单，如添加一个系统用户或删除一份文件。由于single Payload 是完全独立的，因此它们有可能会被类似netcat这样的非 Metasploit处理工具所捕获。
         - Staeer：这种Payload 负责建立目标用户与攻击者之间的网络连接，并下载额外的组件或应用程序。一种常见的Stager Payload就是reverse_tcp，它可以让目标系统与攻击者建立一条TCP连接，让目标系统主动连找渗透测试者的端口（反向连接）。另一种常见的是 bind tcp，它可以让目标系统开启一个TCP监听器，而攻击者随时可以与目标系统进行通信(正向连接)
         - Stage:是Stager Payload 下的一种Payload 组件，这种 Payload 可以提供更加高级的功能，而且没有大小限制。
    - Encoders （编码器模块）
      - 攻击载荷与空指令模块组装完成一个指令序列后，在这段指令被渗透攻击模块加入恶意数据缓冲区交由目标系统运行之前，Metasploit框架还需要进行编码。编码模块的主要作用有两个：
        - 第一，是确保攻击载荷中不会出现“坏字符”；
        - 第二，是对攻击载荷进行“免杀”处理，即躲避反病毒软件、IDS入侵检测系统和IPS入侵防御系统的检测与拦截。
    - Nops（空指令模块）
      - 空指令 (NOP)是一些对程序运行状态不会造成任何实质影响的空操作或无关操作指令，最典型的空指令就是空操作，在X86 CPU 体系结构平台上的操作码是ox90。在渗透攻击构造恶意数据缓冲区时，常常要在真正要执行的 Shellcode 之前添加一段空指令区。这样，当触发渗透攻击后跳转执行 ShellCode 时，会有一个较大的安全着陆区，从而避免受到内存地址随机化及返回地址计算偏差等原因造成的 ShellCode 执行失败，提供滲透攻击的可靠性。
    - Evasion（规避模块）
      - 规避模块是在Metasploit 5 中新增加的。用户可以使用规避模块来规避 Windows Defender防火墙。Windows Defender 现在是 Windows 系统自带的防火墙工具。它不仅可以扫描系统，还可以对系统进行实时监控。
    - 插件(plugins)
      - 插件能够扩充框架的功能，或者封装已有功能构成高级功能的组件。插件可以用于集成现有的一些外部安全工具，如 Nessus、OpenVAS 漏洞扫描器
